/*!**
    title: Flow Box Small
    section: Box Modules
    example: |
        <component style="background: url(http://placehold.it/350x350) no-repeat" class="flow-box">
          <div class="flow-box__gradient-bg">
            <h4 class="flow-box__tag"><i class="icon">
                <svg viewbox="0 0 100 100">
                  <use xlink:href="includes/symbols.svg#icon_pdf"></use>
                </svg></i><strong>Article</strong></h4>
            <div class="flow-box__content"><a href="/article.html" class="flow-box__title">
                <h2>A Systematic Approach To Optimizing Collateral</h2></a>
              <div class="flow-box__CTA-description truncate">
                <p>A Systematic Approach To Optimizing Collateral</p>
              </div>
              <div class="flow-box__CTA"><i class="flow-box__CTA-icon flow-box__CTA--left interactive-svg">
                  <svg viewbox="0 0 100 100" class="is-empty">
                    <use xlink:href="includes/symbols.svg#icon_star"></use>
                  </svg>
                  <svg viewbox="0 0 100 100" class="is-filled">
                    <use xlink:href="includes/symbols.svg#icon_star-filled"></use>
                  </svg><span class="flow-box__CTA__alt-text">Save</span></i><i class="flow-box__CTA-icon flow-box__CTA--right interactive-svg">
                  <svg viewbox="0 0 100 100" class="is-empty">
                    <use xlink:href="includes/symbols.svg#icon_triangle"></use>
                  </svg>
                  <svg viewbox="0 0 100 100" class="is-filled">
                    <use xlink:href="includes/symbols.svg#icon_triangle-filled"></use>
                  </svg><span class="flow-box__CTA__alt-text">View</span></i></div>
            </div>
          </div>
        </component>
***/

.flow-box
    background-color white
    display block
    position relative
    height r(26rem)
    color darkblue
    background-size cover !important
    background-position 50% 50% !important
    border-bottom 2px solid gray
    border-left 1px solid #e3e3e3
    border-right 1px solid #e3e3e3
    text-align left
    +below(1024px)
        height r(28rem)
    h3
        font-family proxSbold
    .share-flyout__icon,
    .share-flyout__trigger
        color blue
    &.headline-box
        height r(33rem)
        h3
            color black
            fs(2.6rem)
            line-height 1.2
            font-family proxReg
            padding-left r(7rem)
            text-transform capitalize
        h4
            color gray
            upcase()
            padding-bottom r(0.8rem)
            fs(1.6rem)
        .flow-box__content
            padding-top 0
        .flow-box__share-flyout-wrapper
            left r(4.5rem)
            bottom r(0.4rem)
        .flow-box__title
            h3
                transition color 0.2s ease
            h4
                transition color 0.3s ease
            &:hover
                h3
                    color darkblue
                h4
                    color rgba(darkgray,0.8)
        .share-flyout__trigger,
        .share-flyout__trigger svg
            size r(3.5rem)
        .flow-box-flyout__icon.flow-box-flyout__icon
            margin 0 r(0.2rem)
            size r(3.2rem)
            &:hover
                opacity 1
                color blue
        +below(540px)
            h3
                fs(2rem)
                padding-left r(5rem)

.flow-box__gradient-bg
    background: url(unquote('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAEFCAYAAAArGC1RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAINJREFUeNrs1csOgDAIRNGWvvT/P7i6NhgnIbi6Jt2cMMDCqu29y/NYcR4QBOPY71M9bH9Uvq7k9uxy5fDQ5J5BnDK6e54eLg8Puacen3J8xeJDXkmPj9iees8eqwy+tC0B9att8i02eVCNDdJ66vGMQRkfan5nIAiCIAiCIAh+4iXAALhLEmsq24dNAAAAAElFTkSuQmCC')) repeat-x
    background-position 0% 100%
    top 0
    bottom 0
    left 0
    right 0
    width 100%
    height 100%
    padding r(2.2rem)
    
.flow-box__content
    position relative
    height 100%
    padding-top r(6rem)

.flow-box__tag
    display inline-block
    background-color blue
    color white
    padding r(0.4rem) r(1rem)
    // min-width 18rem
    position absolute
    left 0
    top r(1.1rem)
    vertical-align baseline
    font-family proxLight
    fs(1.4rem)
    strong
        upcase()
    .icon
        color white
        size r(1.2rem)
        margin-right r(0.6rem)
        vertical-align inherit
        
.flow-box__meta-img
    display inline-block
    vertical-align middle
    margin 0 r(1rem)
    img
        border-radius 50%

.flow-box__tag,
.flow-box__meta-text
    i
        color white
        size r(1.2rem)
            
.flow-box__meta-text
    display inline-block
    vertical-align middle
    h4, p
        line-height 1.1
    
.flow-box__meta
    background-color white
    position absolute
    top 0
    left 0
    width 100%
    padding r(0.5rem) r(1rem)
    p
        color black
        
.flow-box__title
    color darkblue
    &:hover
        color darkblue
    h2
        max-height r(6rem)
        overflow hidden
        fs(2.2rem)
        +below(768px)
            max-height r(8rem)
    h5
        max-height r(18.7rem)
        overflow hidden
        font-family proxSbold
        
.flow-box__CTA
    color blue
    position absolute
    bottom 0
    left 0
    right 0
    height r(5rem)
    border-top 1px solid currentColor
    cf()
    .share-icon
        size (6rem)
        max-width 100%

.flow-box__CTA-description
    padding r(1rem) 0 0 0 
    color black 
    height r(3.5rem)
    strong, b
        display block
        
.flow-box__CTA-description.truncate
    left 0
    right 0
    overflow hidden
    position: absolute
    p
        width 100%
        overflow hidden
        white-space: nowrap
        text-overflow: ellipsis
    
    
.flow-box__CTA-icon
    position absolute
    bottom 0
    size r(3rem)
    overflow visible
    font-family proxLight
    color blue
    svg
        position: absolute
        bottom 0
        size r(3rem)
        transition transform 0.3s ease-out
.no-touch .flow-box__CTA-icon
    &:hover
        svg.is-empty,
        svg.is-filled
            transform translateY(r(-1rem))
            color blue
        .flow-box__CTA__alt-text
            opacity 1
            top 100%
            color blue
            transition opacity 0.1s cubic-bezier(.73,.88,0,1.1), top 0.3s cubic-bezier(.73,.88,0,1.1)

.flyout-is-active
    .flow-box__CTA--share
        .is-filled
            opacity 1

.flow-box__CTA--left
    left 0
    float left
    
.flow-box__CTA--right
    right 0
    float right

.flow-box__CTA--share
    left r(7rem)
    size r(4rem)
    top r(1.6rem)
    svg
        size r(4rem)
    +below(768px)
       display none

.flow-box__share-flyout-wrapper
    left r(12rem)
    position absolute
    overflow hidden
    width r(30rem)
    // height r(3rem)
    top r(1.6rem)
        
.flow-box-flyout__icon.share-flyout__icon
    display inline-block
    margin 0 r(1rem)
    size r(4rem)
    svg
        transform none
        position static
        size 100%
    
.flow-box__share-flyout-wrapper
    .flow-box__share-flyout
        transform translateX(-100%)
        transition transform 0.4s cubic-bezier(.4,-0.17,.33,1)
        // z-index -1
    &:hover
        .share-flyout__icon
            opacity 0.5
            
.flow-box__CTA.is-active
    .flow-box__share-flyout-wrapper
        .flow-box__share-flyout
            transform translateX(0%)
            transition transform 0.4s cubic-bezier(.73,.88,0,1.02)

.flow-box__CTA__alt-text
    fs(1.4rem)
    align()
    opacity 0
    transition opacity 0.2s cubic-bezier(.73,.88,0,1.1) 0.05s, top 0.3s cubic-bezier(.73,.88,0,1.1)
    margin-top 0
    cursor: pointer
    
/*!**
  title: Flow Box Large
  section: Box Modules
  example: |
    <component style="background: url(http://placehold.it/550x550) no-repeat" class="flow-box flow-box--large">
      <div class="flow-box__gradient-bg">
        <h4 class="flow-box__tag"> <i class="icon">
            <svg viewbox="0 0 100 100">
              <use xlink:href="includes/symbols.svg#icon_pdf"></use>
            </svg></i><strong>Article</strong>  |  Added for you on 12.14.14</h4>
        <div class="flow-box__content"><a href="/article.html" class="flow-box__title">
            <h3>Healthcare Consumerism:</h3>
            <h5>The Rise of the Empowered Healthcare Consumer</h5>
            <div class="flow-box__CTA-description">
              <p><strong>A shift to individual healthcare.</strong>Healthcare consumers are gaining control over how and with whom â€” they spend their healthcare dollars.</p>
            </div></a>
          <div class="flow-box__CTA"><i class="flow-box__CTA-icon flow-box__CTA--left interactive-svg">
              <svg viewbox="0 0 100 100" class="is-empty">
                <use xlink:href="includes/symbols.svg#icon_star"></use>
              </svg>
              <svg viewbox="0 0 100 100" class="is-filled">
                <use xlink:href="includes/symbols.svg#icon_star-filled"></use>
              </svg><span class="flow-box__CTA__alt-text">Save</span></i><i class="flow-box__CTA-icon flow-box__CTA--share share-flyout__trigger js-flow-box-flyout__trigger interactive-svg">
              <svg viewbox="0 0 100 100" class="is-empty">
                <use xlink:href="includes/symbols.svg#icon_share"></use>
              </svg>
              <svg viewbox="0 0 100 100" class="is-filled">
                <use xlink:href="includes/symbols.svg#icon_share-filled"></use>
              </svg><span class="flow-box__CTA__alt-text">Share</span></i>
            <component class="flow-box__share-flyout-wrapper js-share-flyout">
              <div class="flow-box__share-flyout share-flyout">
                <div class="flow-box-flyout__icon share-flyout__icon">
                  <svg viewbox="0 0 100 100">
                    <use xlink:href="includes/symbols.svg#icon_email"></use>
                  </svg>
                </div>
                <div class="flow-box-flyout__icon share-flyout__icon">
                  <svg viewbox="0 0 100 100">
                    <use xlink:href="includes/symbols.svg#icon_twitter"></use>
                  </svg>
                </div>
                <div class="flow-box-flyout__icon share-flyout__icon">
                  <svg viewbox="0 0 100 100">
                    <use xlink:href="includes/symbols.svg#icon_facebook"></use>
                  </svg>
                </div>
                <div class="flow-box-flyout__icon share-flyout__icon">
                  <svg viewbox="0 0 100 100">
                    <use xlink:href="includes/symbols.svg#icon_linkedin"></use>
                  </svg>
                </div>
              </div>
            </component><a href="/article.html" class="flow-box__CTA-icon flow-box__CTA--right interactive-svg">
              <svg viewbox="0 0 100 100" class="is-empty">
                <use xlink:href="includes/symbols.svg#icon_triangle"></use>
              </svg>
              <svg viewbox="0 0 100 100" class="is-filled">
                <use xlink:href="includes/symbols.svg#icon_triangle-filled"></use>
              </svg><span class="flow-box__CTA__alt-text">View</span></a>
          </div>
        </div>
      </div>
    </component>
***/

.flow-box.flow-box--large
    height r(56rem)
    .flow-box__content
        padding-top r(16rem)
    +below(768px)
        .flow-box__content
            padding-top r(10rem)
            h5
                padding-bottom r(2rem)
    +below(540px)
        height r(26rem)
        .flow-box__content
            padding-top r(7rem)
    +above(540px)
        .flow-box__gradient-bg
            background: url(unquote('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAIwCAYAAABOR6HSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAL1JREFUeNrs10EOgzAMRFGwuf+V064rkEzN2EH5SGyeMB6SCMI+xth+D9tODhAEQRCcAY/vuVfcM94oXr7yPS/LrSK8IlK8/N5juqA8OXSWa2SCSJ5rZP8/ZnLe741nfJAPwdAlc7ogkgsWgwsilc1RcjbjOW2+Na9Y3iZYyWUvVRO8k+0l3WPlD+wuFJ+z3kZlO6u+3Voy5yJX9jbqDT/hn2lvo0V+/0EQBEEQBEEQBEEQBEEQBEHwpfgRYAAX8wlyL6yh1wAAAABJRU5ErkJggg==')) repeat-x
            background-position 0% 100%
    .flow-box__icon
        right r(3.5rem)
    .flow-box__CTA-description
        height r(8rem)
    +below(540px)
        height auto
        .flow-box__CTA
            height auto
            position: relative
            bottom 0
            padding-top r(2rem)
        .flow-box__CTA-description
            padding r(1rem) 0
            display none
        .flow-box__CTA--left,
        .flow-box__CTA--right,
        .flow-box__CTA--share
            bottom 0
            position: relative

.headline-box__icon
    size r(4.8rem)
    position absolute
    left 0
    top r(3.8rem)
    +below(540px)
        size(3.6rem)

/*!**
    title: Article with Header
    section: Box Modules
    example: |
      <component class="flow-box__container">
        <subcomponent class="flow-box-header"><a href="/index-logged-in.html" class="compact-profile-box__profile-pic"><img src="http://placehold.it/20x20" alt=""/></a>
          <p class="inline-block"><b><a href="/index-logged-in.html">Added by Kyla Medina</a></b></p>
        </subcomponent>
        <subcomponent style="background: url(http://placehold.it/550x550) no-repeat" class="flow-box">
          <div class="flow-box__gradient-bg">
            <h4 class="flow-box__tag"> <i class="icon">
                <svg viewbox="0 0 100 100">
                  <use xlink:href="includes/symbols.svg#icon_pdf"></use>
                  <image src="img/symbols/icon_pdf-2x.png" width="12px" height="12px"></image>
                </svg></i><strong>Article</strong></h4>
            <div class="flow-box__content"><a class="flow-box__title">
                <h2>A Systematic Approach To Optimizing Collateral</h2></a>
              <div class="flow-box__CTA-description truncate">
                <p>A Systematic Approach To Optimizing Collateral</p>
              </div>
              <div class="flow-box__CTA"><i class="flow-box__CTA-icon flow-box__CTA--left interactive-svg">
                  <svg viewbox="0 0 100 100" class="is-empty">
                    <use xlink:href="includes/symbols.svg#icon_star"></use>
                    <image src="img/symbols/icon_star-2x.png" width="20px" height="20px"></image>
                  </svg>
                  <svg viewbox="0 0 100 100" class="is-filled">
                    <use xlink:href="includes/symbols.svg#icon_star-filled"></use>
                    <image src="img/symbols/icon_star-filled-2x.png" width="20px" height="20px"></image>
                  </svg><span class="flow-box__CTA__alt-text">Save</span></i><a href="/article.html" class="flow-box__CTA-icon flow-box__CTA--right interactive-svg">
                  <svg viewbox="0 0 100 100" class="is-empty">
                    <use xlink:href="includes/symbols.svg#icon_triangle"></use>
                    <image src="img/symbols/icon_triangle-2x.png" width="20px" height="20px"></image>
                  </svg>
                  <svg viewbox="0 0 100 100" class="is-filled">
                    <use xlink:href="includes/symbols.svg#icon_triangle-filled"></use>
                    <image src="img/symbols/icon_triangle-filled-2x.png" width="20px" height="20px"></image>
                  </svg><span class="flow-box__CTA__alt-text">View</span></a></div>
            </div>
          </div>
        </subcomponent>
      </component>
***/
.flow-box-header
    background-color white
    padding r(1rem)
    cf()
    margin-bottom r(1rem)
    overflow hidden
    a
        color black
        transition 0.3s ease
        &:hover
            color darkblue
    p
        white-space nowrap
        position relative
        top r(0.4rem)
        padding r(0.3rem) 0

.flow-box__container
    transition opacity 0.2s ease
    &.is-faded
        opacity 0.5
        


// This is for when a article is saved while logged in.
.flow-box__folder-save
    background-color white
    @extend $absolute-cover
    padding r(2.2rem)
    opacity 0
    z-index -999
    transition opacity 0.3s ease, z-index 0s linear 0.3s
    &.is-active
        opacity 1
        z-index 999
        transition opacity 0.3s ease 0.05s, z-index 0s linear 0s
    .button--silent
        text-align center
    p
        color darkgray
    hr
        border-bottom 1px solid gray
        padding-top r(0.6rem)
        margin-bottom 0
    .cogv1_article__save
        padding-top 0
        transform translateY(r(1.6rem))
        max-height r(10rem)
        overflow scroll
    .cogv1_article__save
        opacity 1
    .flow-box__folder-save-wrapper
        height 100%
        width 100%
        position relative
        
.flow-box--large
    .flow-box__folder-save
        .cogv1_article__save
            max-height r(35rem)